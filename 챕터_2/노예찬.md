# 2.현실에서의 함수형 사고

## 파트1 : 액션과 계산, 데이터

- 변경 가능성에 따라 코드를 나누기 : 코드를 변경할 때 드는 비용을 줄이기 위해 함수형 사고로 코드를 구성하면 좋다. 그리고 변경의 가능성에 따라 코드를 나눈다.
- 계층화설계 : 3가지 부분으로 나눌 수 있다. 기술 스택 -> 도메인 규칙 -> 비즈니스 규칙. 오른쪽으로 갈 수록 변경가능성이 높은 것이 된다. 오른쪽으로 갈 수록 의존성이 많이 존재하지 않도록 구성해야한다. 왜냐하면 오른쪽으로 갈 수록 변경가능성이 높아지기 때문에, 의존성을 낮추어 변경에 쉽게 대처할 수 있게 만들어야하기 때문이다.

## 파트2 : 일급 추상

- 타임라인 다이어그램 : 이 다이어그램을 이용하면 액션이 시간 순서에 따라 어떻게 실행되는지를 볼 수 있다. 액션은 실행 시점에 의존하기 때문에 실행 순서가 중요하다.
- 분산 시스템을 타임라인으로 시각화함으로서, 각각의 타임라임이 어떤 순서에 의존하고 있는지를 확인할 수 있다. 하지만 이를 통해서 확인하게 되는 것은 각각의 타임라인은 다 각자의 실행시간을 가지고 있다는 것이다. 따라서 이런 실행시간과 순서가 맞지 않을 때 문제가 발생할 수 있다. 우리는 항상 타임라인이 올바른 결과를 가져오도록 만들어야 하는데, 어떻게해야할까? 바로 커팅이라는 기술을 활용할 수 있다.
- 커팅 : 커팅은 여러 타임라인이 동시에 진행될 때 서로 순서를 맞추는 방법이다. 이 커팅은 고차 동작으로 이루어진다. 각 타임라인은 독립적으로 동작하고 작업이 완료되면 다른 타임라인이 끝나기를 기다리기 때문에 어떤 타임라인이 먼저 끝나도 괜찮다.
